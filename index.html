<div id="bottom-bar">
    <div id="chat-area">
        <input type="text" id="chat-field" placeholder="ç™¼é€ Google Chat æŒ‡ä»¤..." onkeydown="if(event.key==='Enter') pushMsg()">
    </div>
    
    <button id="cam-trigger" style="background:#4285f4; color:white; padding:10px 20px; border-radius:5px; font-weight:bold; margin-right:10px;" onclick="startVideo()">é€£çµé¡é ­</button>
    
    <button id="broadcast-btn" style="background:#d4a017; color:black; padding:10px 20px; border-radius:5px; font-weight:bold;" onclick="doBroadcast()">å•Ÿå‹•å»£æ’­</button>
    <button onclick="addParticipant()" style="background:#444; color:white; padding:10px; border-radius:5px; margin-left:10px;">æ¨¡æ“¬é€£æ¥</button>
</div>

<script>
    // å„ªåŒ–å¾Œçš„å•Ÿå‹•é‚è¼¯ [cite: 2026-01-27]
    async function startVideo() {
        const helpHint = document.getElementById('help-hint');
        const videoElement = document.getElementById('local-video');
        const camBtn = document.getElementById('cam-trigger');

        addLog("æ­£åœ¨æ‰‹å‹•å–šé†’è¦–è¨Šæ¨¡çµ„... [cite: 2026-01-07]");
        
        try {
            const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
            videoElement.srcObject = stream;
            
            // æˆåŠŸé€£çµå¾Œï¼Œéš±è—è­¦å‘Šèˆ‡æŒ‰éˆ• [cite: 2026-01-07]
            helpHint.style.display = 'none';
            camBtn.style.display = 'none'; 
            addLog("ğŸ¥ è¦–è¨Šé¡é ­å·²æˆåŠŸé€£æ¥ [cite: 2026-01-07]");
        } catch (err) {
            helpHint.style.display = 'block';
            addLog("âŒ å–šé†’å¤±æ•—ï¼š" + err.message + " [cite: 2026-01-07]");
        }
    }
</script>
